```js
compressString = (S) => {
    var res = String(S[0]);
    var count = 1;
    for (var i = 1; i < S.length; i++) {
        if (S[i] === S[i-1]) {
            ++count;
            if (i === S.length - 1) {
                res += count;
            }
        } else {
            if (i !== S.length - 1) {
                res += count + S[i];
                count = 1;
            } else {
                res += count + S[i] + '1';
            }
        }
    }
    if (res.length >= S.length) {
        res = S;
    return res;
};
```